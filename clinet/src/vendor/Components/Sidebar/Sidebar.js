import React, { useState, useEffect } from "react";
import { NavLink, Link } from "react-router-dom";
import "../Assets/Css/Sidebar.css";
import Logo from "../Assets/img/Group 37325.png";
import { useNavigate } from 'react-router-dom';
import Cookies from 'js-cookie';
import axios from "axios";
import Api from '../../../services/api';

function Sidebar_Vendor() {
  const navigate = useNavigate();
  const handleLogout = async () => {
    try {
      // Clear the token and user from cookies
      Cookies.remove('tokenvendor'); // Remove token
      Cookies.remove('uservendor');  // Remove user data
      
      // Optionally, you can make an API call to invalidate the session on the server
      // await axios.post(`${Api}/api/auth/logout`);

      // Navigate to the home page after logout
      navigate('/Login_vendor');
    } catch (error) {
      console.error('Logout failed:', error);
    }
  }
  return (
    <div className="side">
      <div className="side-brand">
        <img src={Logo} alt="logo" />
      </div>
      <div className="sidebar-links">
        <div>
          <NavLink
            to="/Vendor_Dashboard"
            className={({ isActive }) =>
              isActive ? "active sidebar-link" : "sidebar-link"
            }
          >
            <svg
              width="24"
              height="25"
              viewBox="0 0 24 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M20.04 7.31994L14.28 3.28994C12.71 2.18994 10.3 2.24994 8.78999 3.41994L3.77999 7.32994C2.77999 8.10994 1.98999 9.70994 1.98999 10.9699V17.8699C1.98999 20.4199 4.05999 22.4999 6.60999 22.4999H17.39C19.94 22.4999 22.01 20.4299 22.01 17.8799V11.0999C22.01 9.74994 21.14 8.08994 20.04 7.31994ZM12.75 18.4999C12.75 18.9099 12.41 19.2499 12 19.2499C11.59 19.2499 11.25 18.9099 11.25 18.4999V15.4999C11.25 15.0899 11.59 14.7499 12 14.7499C12.41 14.7499 12.75 15.0899 12.75 15.4999V18.4999Z"
                fill="#939EB5"
              />
            </svg>
            Dashboard
          </NavLink>
          <NavLink
            to="/Vendor_Tour"
            className={({ isActive }) =>
              isActive ? "active sidebar-link" : "sidebar-link"
            }
          >
            <svg
              width="24"
              height="25"
              viewBox="0 0 24 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M17 2.5H7C4.24 2.5 2 4.73 2 7.48V13.46V14.46C2 17.21 4.24 19.44 7 19.44H8.5C8.77 19.44 9.13 19.62 9.3 19.84L10.8 21.83C11.46 22.71 12.54 22.71 13.2 21.83L14.7 19.84C14.89 19.59 15.19 19.44 15.5 19.44H17C19.76 19.44 22 17.21 22 14.46V7.48C22 4.73 19.76 2.5 17 2.5ZM8 12.5C7.44 12.5 7 12.05 7 11.5C7 10.95 7.45 10.5 8 10.5C8.55 10.5 9 10.95 9 11.5C9 12.05 8.56 12.5 8 12.5ZM12 12.5C11.44 12.5 11 12.05 11 11.5C11 10.95 11.45 10.5 12 10.5C12.55 10.5 13 10.95 13 11.5C13 12.05 12.56 12.5 12 12.5ZM16 12.5C15.44 12.5 15 12.05 15 11.5C15 10.95 15.45 10.5 16 10.5C16.55 10.5 17 10.95 17 11.5C17 12.05 16.56 12.5 16 12.5Z"
                fill="#939EB5"
              />
            </svg>
            Tour
          </NavLink>
          <NavLink
            to="/Vendor_Bookings"
            className={({ isActive }) =>
              isActive ? "active sidebar-link" : "sidebar-link"
            }
          >
            <svg
              width="31"
              height="31"
              viewBox="0 0 31 31"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M5.68569 5.31128C5.08585 5.31128 4.59784 5.79929 4.59784 6.39919C4.59784 6.99903 5.08585 7.48705 5.68569 7.48705C6.28559 7.48705 6.77361 6.99903 6.77361 6.39919C6.77361 5.79929 6.28559 5.31128 5.68569 5.31128Z"
                fill="#939EB5"
              />
              <path
                d="M22.3268 28.9934C22.8275 27.786 22.2545 26.4014 21.0472 25.9008C19.8398 25.4002 18.4552 25.9731 17.9546 27.1805C17.454 28.3879 18.0269 29.7725 19.2343 30.2731C20.4416 30.7737 21.8262 30.2007 22.3268 28.9934Z"
                fill="#939EB5"
              />
              <path
                d="M15.8953 28.0805C15.8953 27.8364 15.9172 27.5976 15.957 27.3647H3.69007C2.69366 27.3647 1.88298 26.5541 1.88298 25.5576C1.88298 24.5611 2.69366 23.7505 3.69007 23.7505H12.1465C14.0692 23.7505 15.6335 22.1862 15.6335 20.2635C15.6335 18.3408 14.0693 16.7765 12.1465 16.7765H8.42263L7.30466 18.6456H12.1465C13.0386 18.6456 13.7644 19.3713 13.7644 20.2635C13.7644 21.1556 13.0386 21.8814 12.1465 21.8814H3.69007C1.66302 21.8814 0.0138499 23.5305 0.0138499 25.5576C0.0138499 27.5846 1.66302 29.2338 3.69007 29.2338H16.0562C15.9495 28.8586 15.8954 28.4705 15.8953 28.0805ZM30.9993 15.1442C30.992 14.964 30.9328 14.7897 30.8287 14.6423C30.7246 14.495 30.58 14.381 30.4126 14.314L20.4787 10.3404C20.3368 10.2837 20.1833 10.2626 20.0315 10.279C19.8796 10.2954 19.7341 10.3487 19.6077 10.4343C19.4812 10.5199 19.3776 10.6352 19.3061 10.7701C19.2345 10.905 19.197 11.0554 19.197 11.2081V23.9498C19.5034 23.8802 19.8167 23.845 20.131 23.8447C20.4456 23.845 20.7592 23.8803 21.066 23.95V20.6919L30.4809 16.0187C30.6425 15.9386 30.7774 15.8133 30.8694 15.6581C30.9614 15.5029 31.0065 15.3245 30.9993 15.1442ZM11.4614 6.2837C11.4614 3.11872 8.8957 0.552979 5.73072 0.552979C2.56574 0.552979 0 3.11872 0 6.2837V6.30747C0 7.45145 0.306089 8.57456 0.886516 9.56039L5.24749 16.967C5.44489 17.3022 5.92922 17.3039 6.12892 16.97L10.5523 9.5746C11.1473 8.57998 11.4614 7.44268 11.4614 6.2837ZM5.68567 9.35603C4.05519 9.35603 2.72868 8.02952 2.72868 6.39904C2.72868 4.76856 4.05519 3.44205 5.68567 3.44205C7.31615 3.44205 8.64266 4.76856 8.64266 6.39904C8.64266 8.02958 7.31615 9.35603 5.68567 9.35603Z"
                fill="#939EB5"
              />
            </svg>
            Bookings Analysis
          </NavLink>
          {/* <NavLink
            to="/Vendor_Payments"
            className={({ isActive }) =>
              isActive ? "active sidebar-link" : "sidebar-link"
            }
          >
            <svg
              width="24"
              height="25"
              viewBox="0 0 24 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M12.75 16.4201H13.4C14.05 16.4201 14.59 15.8401 14.59 15.1401C14.59 14.2701 14.28 14.1001 13.77 13.9201L12.76 13.5701V16.4201H12.75Z"
                fill="#939EB5"
              />
              <path
                d="M11.97 2.39992C6.45001 2.41992 1.98001 6.90992 2.00001 12.4299C2.02001 17.9499 6.51001 22.4199 12.03 22.3999C17.55 22.3799 22.02 17.8899 22 12.3699C21.98 6.84992 17.49 2.38992 11.97 2.39992ZM14.26 12.4999C15.04 12.7699 16.09 13.3499 16.09 15.1399C16.09 16.6799 14.88 17.9199 13.4 17.9199H12.75V18.4999C12.75 18.9099 12.41 19.2499 12 19.2499C11.59 19.2499 11.25 18.9099 11.25 18.4999V17.9199H10.89C9.25001 17.9199 7.92001 16.5399 7.92001 14.8399C7.92001 14.4299 8.26001 14.0899 8.67001 14.0899C9.08001 14.0899 9.42001 14.4299 9.42001 14.8399C9.42001 15.7099 10.08 16.4199 10.89 16.4199H11.25V13.0399L9.74001 12.4999C8.96001 12.2299 7.91001 11.6499 7.91001 9.85992C7.91001 8.31992 9.12001 7.07992 10.6 7.07992H11.25V6.49992C11.25 6.08992 11.59 5.74992 12 5.74992C12.41 5.74992 12.75 6.08992 12.75 6.49992V7.07992H13.11C14.75 7.07992 16.08 8.45992 16.08 10.1599C16.08 10.5699 15.74 10.9099 15.33 10.9099C14.92 10.9099 14.58 10.5699 14.58 10.1599C14.58 9.28992 13.92 8.57992 13.11 8.57992H12.75V11.9599L14.26 12.4999Z"
                fill="#939EB5"
              />
              <path
                d="M9.41998 9.87008C9.41998 10.7401 9.72998 10.9101 10.24 11.0901L11.25 11.4401V8.58008H10.6C9.94998 8.58008 9.41998 9.16008 9.41998 9.87008Z"
                fill="#939EB5"
              />
            </svg>
            Payments Analysis
          </NavLink> */}
          <NavLink
            to="/Vendor_Notification"
            className={({ isActive }) =>
              isActive ? "active sidebar-link" : "sidebar-link"
            }
          >
            <svg
              width="20"
              height="21"
              viewBox="0 0 20 21"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M15.29 2.64004L15.22 6.43004C15.21 6.95004 15.54 7.64004 15.96 7.95004L18.44 9.83004C20.03 11.03 19.77 12.5 17.87 13.1L14.64 14.11C14.1 14.28 13.53 14.87 13.39 15.42L12.62 18.36C12.01 20.68 10.49 20.91 9.23003 18.87L7.47003 16.02C7.15003 15.5 6.39003 15.11 5.79003 15.14L2.45003 15.31C0.0600262 15.43 -0.619973 14.05 0.940027 12.23L2.92003 9.93004C3.29003 9.50004 3.46003 8.70004 3.29003 8.16004L2.27003 4.92004C1.68003 3.02004 2.74003 1.97004 4.63003 2.59004L7.58003 3.56004C8.08003 3.72004 8.83003 3.61004 9.25003 3.30004L12.33 1.08004C14 -0.109956 15.33 0.590044 15.29 2.64004Z"
                fill="#939EB5"
              />
            </svg>
            Notification
          </NavLink>
          <NavLink
            to="/Vendor_Reviews"
            className={({ isActive }) =>
              isActive ? "active sidebar-link" : "sidebar-link"
            }
          >
            <svg
              width="20"
              height="21"
              viewBox="0 0 20 21"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M15.29 2.64004L15.22 6.43004C15.21 6.95004 15.54 7.64004 15.96 7.95004L18.44 9.83004C20.03 11.03 19.77 12.5 17.87 13.1L14.64 14.11C14.1 14.28 13.53 14.87 13.39 15.42L12.62 18.36C12.01 20.68 10.49 20.91 9.23003 18.87L7.47003 16.02C7.15003 15.5 6.39003 15.11 5.79003 15.14L2.45003 15.31C0.0600262 15.43 -0.619973 14.05 0.940027 12.23L2.92003 9.93004C3.29003 9.50004 3.46003 8.70004 3.29003 8.16004L2.27003 4.92004C1.68003 3.02004 2.74003 1.97004 4.63003 2.59004L7.58003 3.56004C8.08003 3.72004 8.83003 3.61004 9.25003 3.30004L12.33 1.08004C14 -0.109956 15.33 0.590044 15.29 2.64004Z"
                fill="#939EB5"
              />
            </svg>
            Reviews
          </NavLink>
        </div>
        <NavLink
        onClick={handleLogout}
          to="/Login_vendor"
          className={({ isActive }) =>
            isActive
              ? "active sidebar-link logout-button"
              : "sidebar-link logout-button"
          }
        >
          <svg
            width="22"
            height="22"
            viewBox="0 0 22 22"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M15.4 1.83325H13.0167C10.0833 1.83325 8.25 3.66658 8.25 6.59992V10.3124H13.9792C14.355 10.3124 14.6667 10.6241 14.6667 10.9999C14.6667 11.3758 14.355 11.6874 13.9792 11.6874H8.25V15.3999C8.25 18.3333 10.0833 20.1666 13.0167 20.1666H15.3908C18.3242 20.1666 20.1575 18.3333 20.1575 15.3999V6.59992C20.1667 3.66658 18.3333 1.83325 15.4 1.83325Z"
              fill="#E52600"
            />
            <path
              d="M4.18001 10.3124L6.07751 8.41494C6.21501 8.27744 6.27917 8.10327 6.27917 7.9291C6.27917 7.75494 6.21501 7.5716 6.07751 7.44327C5.81167 7.17744 5.37167 7.17744 5.10584 7.44327L2.03501 10.5141C1.76917 10.7799 1.76917 11.2199 2.03501 11.4858L5.10584 14.5566C5.37167 14.8224 5.81167 14.8224 6.07751 14.5566C6.34334 14.2908 6.34334 13.8508 6.07751 13.5849L4.18001 11.6874H8.25001V10.3124H4.18001Z"
              fill="#E52600"
            />
          </svg>
          Log out
        </NavLink>
      </div>
    </div>
  );
}

export default Sidebar_Vendor;
